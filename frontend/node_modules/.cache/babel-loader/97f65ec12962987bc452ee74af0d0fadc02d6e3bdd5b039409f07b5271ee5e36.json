{"ast":null,"code":"var _jsxFileName = \"/Users/mihirjha/Documents/coding/begining/frontend/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Container, Box, Typography, Button } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\n// Set up axios interceptor to add JWT token to all requests if present\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\nexport default function Dashboard() {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const res = await axios.get('/users/profile');\n        setProfile(res.data);\n      } catch {\n        navigate('/auth/login');\n      }\n    };\n    fetchProfile();\n  }, [navigate]);\n  if (!profile) return null;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 8,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: [\"Welcome, \", profile.name || profile.email, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        sx: {\n          mt: 2\n        },\n        children: [\"Role: \", profile.role]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        sx: {\n          mt: 4\n        },\n        variant: \"contained\",\n        onClick: () => navigate('/profile'),\n        children: \"Go to Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        sx: {\n          mt: 2\n        },\n        color: \"error\",\n        onClick: () => {\n          localStorage.removeItem('token');\n          navigate('/auth/login');\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"GZ1HIHbzzs+hDAE1bRyUtnRbBYo=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Container","Box","Typography","Button","axios","useNavigate","jsxDEV","_jsxDEV","defaults","baseURL","process","env","REACT_APP_API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","error","Promise","reject","Dashboard","_s","profile","setProfile","navigate","fetchProfile","res","get","data","maxWidth","children","sx","mt","display","flexDirection","alignItems","variant","name","email","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","color","removeItem","_c","$RefreshReg$"],"sources":["/Users/mihirjha/Documents/coding/begining/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Container, Box, Typography, Button } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\n// Set up axios interceptor to add JWT token to all requests if present\naxios.defaults.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\naxios.interceptors.request.use(\n  config => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => Promise.reject(error)\n);\n\nexport default function Dashboard() {\n  const [profile, setProfile] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const res = await axios.get('/users/profile');\n        setProfile(res.data);\n      } catch {\n        navigate('/auth/login');\n      }\n    };\n    fetchProfile();\n  }, [navigate]);\n\n  if (!profile) return null;\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ mt: 8, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n        <Typography variant=\"h4\">Welcome, {profile.name || profile.email}!</Typography>\n        <Typography variant=\"subtitle1\" sx={{ mt: 2 }}>\n          Role: {profile.role}\n        </Typography>\n        <Button sx={{ mt: 4 }} variant=\"contained\" onClick={() => navigate('/profile')}>Go to Profile</Button>\n        <Button sx={{ mt: 2 }} color=\"error\" onClick={() => {\n          localStorage.removeItem('token');\n          navigate('/auth/login');\n        }}>Logout</Button>\n      </Box>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}